<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo 及 Butterfly 主题安装、部署</title>
      <link href="/blog-hexo/posts/380b088c/"/>
      <url>/blog-hexo/posts/380b088c/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>最近稍微有点时间，想着重新搭建下自己的个人站点。经过一番对比，最终选择了静态博客框架 <code>Hexo</code> + <code>Butterfly</code> 主题。</p><p><strong>那么为什么选择 Hexo 且选择 Butterfly 主题呢？</strong></p><ul><li><code>Hexo</code> 是一个快速、简洁且高效的博客框架，基于 <code>Node.js</code> 开发，支持 <code>Markdown</code> 编写文章，支持主题和插件扩展，可以<strong>快速搭建</strong>一个博客网站。</li><li><code>Butterfly</code> 主题是一个简洁、优雅的主题，支持多种配置，支持多种插件，支持多种功能，适合个人站点使用。</li><li><code>Hexo</code> 的社区活跃，不仅有很多优秀的主题和插件可供选择，而且在此基础上还可以满足更多的个性化需求。</li></ul><div class="note info flat"><p>预览地址：<a href="https://niezicheng.github.io/blog-hexo/">Arvinjun の站点</a></p></div><h2 id="介绍">介绍</h2><p><a href="https://hexo.io/">Hexo</a> 是一个快速、简洁且高效的博客框架，基于 <a href="https://nodejs.org/">Node.js</a> 开发，支持 <a href="https://daringfireball.net/projects/markdown/">Markdown</a> 编写文章，支持主题和插件扩展，可以快速搭建一个博客网站。本文主要介绍 <code>Hexo</code> 和 <a href="https://butterfly.js.org/">Butterfly</a> 主题的搭建和部署。</p><h2 id="安装-Hexo-及-Butterfly-主题">安装 Hexo 及 Butterfly 主题</h2><h3 id="安装-Hexo">安装 Hexo</h3><p>全局安装 Hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>初始化项目，如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog-hexo</span><br><span class="line">cd blog-hexo</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ea3aafad18344220b0e2b8391ec01d33~tplv-73owjymdk6-watermark.image?policy=eyJ2bSI6MywidWlkIjoiMjk0NjM0Njg5NDc1OTMxOSJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1720839090&amp;x-orig-sign=QIsChWnOXBwcfLQuqUm%2BV0mRt8E%3D" alt="image-20240709112207310.png"></p><h3 id="安装-Butterfly-主题">安装 Butterfly 主题</h3><p>在 Hexo 项目中安装 <code>Butterfly</code> 主题，在项目根目录执行下面命令会将 <code>Butterfly</code> 主题下载到 <code>themes/butterfly</code> 目录下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>注意：提交代码时候需要删除 <code>themes/butterfly</code> 目录下的 <code>.git</code> 文件夹，防止仓库冲突。</p></div><h4 id="应用主题">应用主题</h4><p>修改 Hexo 项目的 <code>_config.yml</code> 文件，将 <code>theme</code> 配置项修改为 <code>butterfly</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><h4 id="安装插件">安装插件</h4><p>如果你没有 <code>pug</code> 以及 <code>stylus</code> 的渲染器，安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h4 id="后续升级建议">后续升级建议</h4><p>为了减少升级主题带来的不便，建议将主题配置文件 <code>themes/butterfly/_config.yml</code> 复制一份到根目录下并重命名为 <code>_config.butterfly.yml</code>，之后所有的主题相关配置都在 <code>_config.butterfly.yml</code> 文件中修改即可。</p><div class="note warning flat"><p>注意：<code>Hexo</code> 会自动合并主题中的 <code>_config.yml</code> 文件和根目录下的 <code>_config.butterfly.yml</code> 主题配置内容，且 <code>_config.butterfly.yml</code> 主题文件配置优先级更高。</p></div><h2 id="启动-Hexo-服务">启动 Hexo 服务</h2><p>在 <code>Hexo</code> 项目根目录执行下面命令启动 <code>Hexo</code> 服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>打开浏览器访问 <code>http://localhost:4000/</code> 即可查看 <code>Hexo</code> 博客网站。</p><h2 id="部署-Hexo-项目">部署 Hexo 项目</h2><p>笔者这边仍是通过 <code>GitHub Pages</code> 部署 <code>Hexo</code> 项目，运行部署命令前，建议先简单了解下我的另一篇文章 <a href="https://juejin.cn/post/7311907901047160882">Github Actions 自动化部署</a>。</p><h3 id="配置部署">配置部署</h3><p>在 <code>Hexo</code> 项目根目录下的 <code>_config.yml</code> 文件中配置 <code>deploy</code> 部署信息：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 线上访问的站点地址</span></span><br><span class="line"><span class="attr">url:</span> <span class="comment"># 线上访问的站点域名地址</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/blog-hexo</span> <span class="comment"># 站点根目录路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 部署配置</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="comment"># 你的仓库地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">gh-pages</span> <span class="comment"># 你需要部署分支</span></span><br></pre></td></tr></table></figure><div class="note warning flat"><p>我部署的站点根目录路径为 <code>/blog-hexo</code>，所以上面 root 设置为 <code>//blog-hexo</code>。如果设置了根路径，那么在项目中资源引用也应添加该根路径前缀，否则可能无法正常访问资源。</p></div><h3 id="执行部署">执行部署</h3><ol><li>创建你的部署分支，笔者这边是 <code>gh-pages</code> 分支，执行下面命令：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b gh-pages</span><br></pre></td></tr></table></figure><ol start="2"><li>在 <code>Github</code> 仓库设置中将 <code>gh-pages</code> 分支设置为 <code>GitHub Pages</code> 的源。如下图所示：</li></ol><p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/b0018dfc0573481c81a6f4fdd924eac5~tplv-73owjymdk6-watermark.image?policy=eyJ2bSI6MywidWlkIjoiMjk0NjM0Njg5NDc1OTMxOSJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1720839286&amp;x-orig-sign=UIPhPNIcpYDybI1pmVopuD0cQig%3D" alt="image-20240712100751477.png"></p><ol start="3"><li>在 <code>Hexo</code> 项目根目录执行下面命令部署 <code>Hexo</code> 项目：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><ol start="4"><li>对应 <code>Action</code> 下 <code>page-build-deployment</code> 任务部署成功后，打开浏览器访问 <code>https://&lt;username&gt;.github.io/&lt;repository&gt;/</code> 即可查看 <code>Hexo</code> 博客网站。 如下图所示：</li></ol><p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/e3d16135a961418399d7d0cfde18f6ba~tplv-73owjymdk6-watermark.image?policy=eyJ2bSI6MywidWlkIjoiMjk0NjM0Njg5NDc1OTMxOSJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1720839516&amp;x-orig-sign=yisr1QXhNyImL8iQwUboLBsnPAg%3D" alt="image-20240712105802028.png"></p><h2 id="结语">结语</h2><p>至此，<code>Hexo</code> 及 <code>Butterfly</code> 主题安装、部署完成。如果你有更好的建议或者更好的主题推荐，欢迎留言交流。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 主题 </tag>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
